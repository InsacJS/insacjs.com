<article class="markdown-body">

<h1 id="estructura-del-proyecto"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="estructura-del-proyecto" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Estructura del proyecto</h1>
<p>El framework automatiza varios procesos utilizando los nombres y la extensión de los ficheros, de esta forma, es posible tratar el contenido de cada fichero de una u otra forma sin tener que estar importándolo a cada momento, es por eso que se hace énfasis en la asignación de extensiones a cada fichero del proyecto.</p>
<p>A continuación se describen todas las carpetas y archivos que se encuentran dentro de un proyecto que ha sido creado con la herramienta de línea de comandos <code>insac-cli</code>.</p>
<p>La siguiente estructura, se obtiene luego de ejecutar el comando <code>insac new blog</code>.</p>
<pre><code class="hljs language-txt">blog
 ├─ certs
 │     ├─ example.privateKey.pem
 │     ├─ example.publicKey.pem
 │     ├─ example.server.csr
 │     ├─ privateKey.pem
 │     ├─ publicKey.pem
 │     └─ README.md
 ├─ node_modules
 ├─ public
 │     └─ apidoc
 ├─ logs
 │     └─ app.log
 ├─ src
 │     ├─ config
 │     │     ├─ app.config.js
 │     │     └─ example.app.config.js
 │     ├─ hooks
 │     │     ├─ custom.after.hook.js
 │     │     └─ custom.before.hook.js
 │     ├─ modules
 │     └─ app.js
 ├─ test
 │     ├─ integration
 │     │     └─ Example.spec.js
 │     ├─ unit
 │     │     └─ Example.spec.js
 │     ├─ helpers.js
 │     └─ mocha.opts
 ├─ .eslintrc.js
 ├─ .gitignore
 ├─ .insac.js
 ├─ ecosystem.json
 ├─ example.ecosystem.json
 ├─ index.js
 ├─ package.json
 └─ README.md
 └─ yarn.lock
</code></pre>
<h3 id="carpeta-certs"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="carpeta-certs" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Carpeta <code>certs</code></h3>
<p>Esta carpeta contiene las claves pública y privada que pueden utilizarse para crear los tokens de acceso en un módulo de autenticación, también puede utilizarse para que el servidor se ejecute bajo el protocolo <code>HTTPS</code>, haciendo mas segura la transferencia de datos con el cliente.</p>
<p>Esta carpera contiene los siguientes ficheros:</p>
<ul>
<li><code>privateKey.pem</code> Clave privada</li>
<li><code>publicKey.pem</code> Clave pública</li>
<li><code>server.csr</code> Solicitud de firma de certificado SSL</li>
</ul>
<p>Cuando se trabaja con <code>GIT</code>, al momento de subir los cambios al repositorio, por seguridad nunca se subirán los ficheros anteriormente descritos, solamente se subirán los archivos cuyo nombre comiencen con <code>example</code>.</p>
<p>Adicionalmente se incluye un fichero <code>README.md</code> que indica cómo se pueden generar los archivos mencionados.</p>
<h3 id="carpteta-node-modules"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="carpteta-node-modules" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Carpteta <code>node_modules</code></h3>
<p>Es la carpeta que utiliza el gestor de paquetes de node y contiene todos los paquetes y librerías que requiere el framework.</p>
<h3 id="carpeta-public"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="carpeta-public" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Carpeta <code>public</code></h3>
<p>Es la carpeta publica de la aplicación, almacena ficheros estáticos que pueden ser accedidos desde el navegador.</p>
<h3 id="carpeta-publicapidoc"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="carpeta-publicapidoc" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Carpeta <code>public/apidoc</code></h3>
<p>Esta carpeta se crea automáticamente y contiene la documentación del servicio <code>APIDOC</code>.</p>
<h3 id="carpeta-logs"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="carpeta-logs" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Carpeta <code>logs</code></h3>
<p>Aqui es donde se almacenan todos los logs del sistema.</p>
<h3 id="archivo-logsapplog"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="archivo-logsapplog" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Archivo <code>logs/app.log</code></h3>
<p>Contiene el registro de todas aquellas peticiones que terminaron con algún error <code>400</code>, en especial los errores internos del servidor <code>500</code>.</p>
<h3 id="carpeta-src"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="carpeta-src" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Carpeta <code>src</code></h3>
<p>Esta carpeta contiene todo el código fuente de la aplicación, y es donde se trabajará continuamente durante el desarrollo.</p>
<h3 id="archivo-srcappjs"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="archivo-srcappjs" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Archivo <code>src/app.js</code></h3>
<p>Contiene el fichero que se encarga de cargar la aplicación y adicionar los módulos necesarios.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> &#123; Insac &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">'insac'</span>)

<span class="hljs-keyword">const</span> service = <span class="hljs-keyword">new</span> Insac()

service.addModule(<span class="hljs-string">'api'</span>)
<span class="hljs-comment">// &lt;!-- [CLI] - [MODULE] --!&gt; //</span>

service.init()

<span class="hljs-built_in">module</span>.exports = service
</code></pre>
<h3 id="carpeta-srcconfig"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="carpeta-srcconfig" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Carpeta <code>src/config</code></h3>
<p>Se utiliza para almacenar los archivos de configuración del proyecto.</p>
<p>Para instalar la aplicación en cualquier equipo, deberá bastar con cambiar los valores de configuración que se encuentran dentro de estos ficheros, por lo tanto, estos ficheros únicamente deben contener información que se necesite al momento de instalar la aplicación.</p>
<p>Por ejemplo, las credenciales de acceso a la base de datos será diferente en cada equipo donde se instale la aplicación, por lo que habrá que configurarlo desde estos ficheros.</p>
<p>Por otro lado, la Información acerca de los roles de los usuarios, siempre será la misma sin importar el equipo donde se instale la aplicación, por lo tanto no será necesario incluirlo en estos ficheros.</p>
<h3 id="archivo-srcconfigappconfigjs"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="archivo-srcconfigappconfigjs" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Archivo <code>src/config/app.config.js</code></h3>
<p>Contiene las configuraciones para el servidor <code>SERVER</code>, la base de datos <code>DATABASE</code> y los módulos del proyecto si es que fueran necesarios.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> fs   = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>)
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>)

<span class="hljs-comment">// |=============================================================|</span>
<span class="hljs-comment">// |------------ CONFIGURACIÓN PARA LA BASE DE DATOS ------------|</span>
<span class="hljs-comment">// |=============================================================|</span>

exports.DATABASE = &#123;
  <span class="hljs-attr">username</span> : process.env.DB_USER || <span class="hljs-string">'postgres'</span>,
  <span class="hljs-attr">password</span> : process.env.DB_PASS || <span class="hljs-string">'postgres'</span>,
  <span class="hljs-attr">database</span> : process.env.DB_NAME || <span class="hljs-string">'postgres'</span>,
  <span class="hljs-attr">params</span>   : &#123;
    <span class="hljs-attr">dialect</span> : <span class="hljs-string">'postgres'</span>,
    <span class="hljs-attr">host</span>    : process.env.DB_HOST_NAME || <span class="hljs-string">'127.0.0.1'</span>,
    <span class="hljs-attr">port</span>    : process.env.DB_HOST_PORT || <span class="hljs-string">'5432'</span>
  &#125;
&#125;

<span class="hljs-comment">// |=============================================================|</span>
<span class="hljs-comment">// |------------ CONFIGURACIÓN PARA EL SERVIDOR -----------------|</span>
<span class="hljs-comment">// |=============================================================|</span>

exports.SERVER = &#123;
  <span class="hljs-attr">port</span> : process.env.PORT     || <span class="hljs-number">4000</span>,
  <span class="hljs-attr">env</span>  : process.env.NODE_ENV || <span class="hljs-string">'development'</span>,
  <span class="hljs-attr">cors</span> : &#123;
    <span class="hljs-string">'origin'</span>                       : <span class="hljs-string">'*'</span>,
    <span class="hljs-string">'methods'</span>                      : <span class="hljs-string">'GET,POST,PUT,DELETE,OPTIONS'</span>,
    <span class="hljs-string">'preflightContinue'</span>            : <span class="hljs-literal">true</span>,
    <span class="hljs-string">'Access-Control-Allow-Headers'</span> : <span class="hljs-string">'Authorization,Content-Type,Content-Length'</span>
  &#125;,
  <span class="hljs-attr">ssl</span>: &#123;
    <span class="hljs-attr">key</span>  : fs.readFileSync(path.resolve(process.cwd(), <span class="hljs-string">'certs/privateKey.pem'</span>)),
    <span class="hljs-attr">cert</span> : fs.readFileSync(path.resolve(process.cwd(), <span class="hljs-string">'certs/publicKey.pem'</span>))
  &#125;,
  <span class="hljs-attr">https</span>: <span class="hljs-literal">false</span>
&#125;

<span class="hljs-comment">// |=============================================================|</span>
<span class="hljs-comment">// |------------ CONFIGURACIÓN PARA LOS MÓDULOS -----------------|</span>
<span class="hljs-comment">// |=============================================================|</span>

<span class="hljs-comment">// &lt;!-- [CLI] - [CONFIG] --!&gt; //</span>
</code></pre>
<p>Al igual que la carpeta <code>certs</code>, cuando se trabaja con <code>GIT</code>, estos archivos no se guardan en el repositorio, en su lugar se subiran los archivos que contengan la palabra <code>example</code>.</p>
<h3 id="carpeta-srchooks"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="carpeta-srchooks" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Carpeta <code>src/hooks</code></h3>
<p>Contiene los ficheros que realizan operaciones antes y después de instalar o inicializar los módulos del sistema.</p>
<h3 id="carpeta-srchookscustomafterhookjs"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="carpeta-srchookscustomafterhookjs" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Carpeta <code>src/hooks/custom.after.hook.js</code></h3>
<p>Contiene las tareas que se realizan <strong>después</strong> de cargar los módulos, puede utilizarse para controlar errores.</p>
<pre><code class="hljs language-js"><span class="hljs-built_in">module</span>.exports = <span class="hljs-function">(<span class="hljs-params">app</span>) =&gt;</span> &#123;
  <span class="hljs-comment">// |======================================================================|</span>
  <span class="hljs-comment">// |-- TAREAS A REALIZAR DESPUÉS DE INSTALAR O INICIALIZAR LOS MÓDULOS ---|</span>
  <span class="hljs-comment">// |======================================================================|</span>

  <span class="hljs-comment">// Ejemplo.- Envía un mensaje por correo electrónico al equipo de soporte.</span>
  <span class="hljs-comment">//</span>
  <span class="hljs-comment">// app.use((err, req, res, next) =&gt; &#123;</span>
  <span class="hljs-comment">//   if (err &amp;&amp; (err.code === 500)) &#123;</span>
  <span class="hljs-comment">//     app.MAIL.send.error500(req, err)</span>
  <span class="hljs-comment">//   &#125;</span>
  <span class="hljs-comment">//   return next(err)</span>
  <span class="hljs-comment">// &#125;)</span>
&#125;
</code></pre>
<h3 id="carpeta-srchookscustombeforehookjs"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="carpeta-srchookscustombeforehookjs" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Carpeta <code>src/hooks/custom.before.hook.js</code></h3>
<p>Contiene las tareas que se realizan <strong>antes</strong> de cargar los módulos. Puede utilizarse para cargar middlewares globales.</p>
<pre><code class="hljs language-js"><span class="hljs-built_in">module</span>.exports = <span class="hljs-function">(<span class="hljs-params">app</span>) =&gt;</span> &#123;
  <span class="hljs-comment">// |======================================================================|</span>
  <span class="hljs-comment">// |--- TAREAS A REALIZAR ANTES DE INSTALAR O INICIALIZAR LOS MÓDULOS ----|</span>
  <span class="hljs-comment">// |======================================================================|</span>

  <span class="hljs-comment">// Ejemplo.- Muestra información de una petición.</span>
  <span class="hljs-comment">//</span>
  <span class="hljs-comment">// app.use((req, res, next) =&gt; &#123;</span>
  <span class="hljs-comment">//   console.log(req.id, req.method, req.originalUrl)</span>
  <span class="hljs-comment">//   return next()</span>
  <span class="hljs-comment">// &#125;)</span>
&#125;
</code></pre>
<h3 id="carpeta-srcmodules"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="carpeta-srcmodules" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Carpeta <code>src/modules</code></h3>
<p>El proyecto se organiza mediante módulos, cada módulo se encarga de una tarea específica dentro de la aplicación.</p>
<p>A continuación se describen los diferentes tipos de módulos que existen:</p>
<h3 id="modulo-de-tipo-module"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="modulo-de-tipo-module" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> - Módulo de tipo <code>MODULE</code></h3>
<p>Es el módulo base del que heredan el resto de los módulos. Especializado en crear funciones que pueden ser utilizadas en otros módulos.</p>
<p>La clase <code>Module</code> contiene las funciones <code>onSetup</code> y <code>onStart</code> los cuales se ejecutan con los siguientes comandos <code>npm run setup</code> y <code>npm run start</code>.</p>
<p>Por ejemplo, existen tareas que se requieren en casi todos los módulos, para esto podemos crear el módulo <code>UTIL</code> cuya estructura sería la siguiente:</p>
<pre><code class="hljs language-txt">├─ src
      ├─ modules
            └─ UTIL
                  ├─ services
                  │     └─ util.service.js
                  └─ util.module.js
</code></pre>
<h3 id="archivo-srcmodulesutilutilmodulejs"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="archivo-srcmodulesutilutilmodulejs" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Archivo <code>src/modules/UTIL/util.module.js</code></h3>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> &#123; Module &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">'insac'</span>)

<span class="hljs-built_in">module</span>.exports = <span class="hljs-function">(<span class="hljs-params">app</span>) =&gt;</span> &#123;
  <span class="hljs-keyword">const</span> CONFIG = app.config.UTIL

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Module(CONFIG)
&#125;
</code></pre>
<h3 id="carpeta-srcmodulesutilservices"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="carpeta-srcmodulesutilservices" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Carpeta <code>src/modules/UTIL/services</code></h3>
<p>Contiene todas las tareas que puede realizar el módulo y pueden ser ejecutadas desde otros módulos.</p>
<h3 id="archivo-srcmodulesutilservicesutilservicejs"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="archivo-srcmodulesutilservicesutilservicejs" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Archivo <code>src/modules/UTIL/services/util.service.js</code></h3>
<pre><code class="hljs language-js"><span class="hljs-built_in">module</span>.exports = <span class="hljs-function">(<span class="hljs-params">app</span>) =&gt;</span> &#123;
  <span class="hljs-keyword">const</span> UTIL = &#123;&#125;

  UTIL.log = <span class="hljs-function">(<span class="hljs-params">message</span>) =&gt;</span> &#123;
    <span class="hljs-built_in">console</span>.log(message)
  &#125;

  <span class="hljs-keyword">return</span> UTIL
&#125;
</code></pre>
<h3 id="modulo-de-tipo-resource"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="modulo-de-tipo-resource" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> - Módulo de tipo <code>RESOURCE</code></h3>
<p>Es el módulo principal de la aplicación. Especializado en crear recursos.</p>
<p>Cuando se instala un módulo de este tipo, se crea un <strong>nuevo esquema de base de datos</strong> dedicado para aquellas tablas que se creen dentro del módulo, esto lo gestiona Sequelize, por lo que no habrá que preocuparse por las consultas, las cuales se realizan de la misma forma en la que se harían sin esquemas.</p>
<p>Por ejemplo, para un módulo <code>API</code> que contiene el recurso <code>libro</code>, la estructura sería la siguiente:</p>
<pre><code class="hljs language-txt">├─ src
      ├─ modules
            └─ API
                  ├─ dao
                  │     └─ libro.dao.js
                  ├─ models
                  │     └─ libro.model.js
                  ├─ resources
                  │     └─ api
                  │           └─ v1
                  │                 └─ libros
                  │                       ├─ libro.controller.js
                  │                       ├─ libro.input.js
                  │                       ├─ libro.middleware.js
                  │                       ├─ libro.output.js
                  │                       └─ libro.route.js
                  ├─ seeders
                  │     ├─ prod
                  │     │     └─ libro.seed.js
                  │     └─ libro.seed.js
                  └─ api.module.js
</code></pre>
<h3 id="archivo-srcmodulesapiapimodulejs"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="archivo-srcmodulesapiapimodulejs" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Archivo <code>src/modules/API/api.module.js</code></h3>
<p>Se encarga de configurar e instanciar al módulo.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> &#123; ResourceModule &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">'insac'</span>)

<span class="hljs-built_in">module</span>.exports = <span class="hljs-function">(<span class="hljs-params">app</span>) =&gt;</span> &#123;
  <span class="hljs-keyword">const</span> CONFIG = app.config.API

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ResourceModule(CONFIG)
&#125;
</code></pre>
<h3 id="carpeta-srcmodulesapidao"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="carpeta-srcmodulesapidao" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Carpeta <code>src/modules/API/dao</code></h3>
<p>Contiene todos los DAO asociados a los modelos. Un DAO (Data Access Object) maneja la conexión con la base de datos para obtener y guardar los datos.</p>
<p>Cualquier consulta u operación con la base de datos, debe realizarse a través de estos ficheros y NO directamente desde los modelos.</p>
<p>Un DAO siempre realiza operaciones atómicas contra la base de datos, las transacciones deben declararse en los controladores.</p>
<h3 id="archivo-srcmodulesapidaolibrodaojs"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="archivo-srcmodulesapidaolibrodaojs" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Archivo <code>src/modules/API/dao/libro.dao.js</code></h3>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> &#123; Dao &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">'insac'</span>)

<span class="hljs-built_in">module</span>.exports = <span class="hljs-function">(<span class="hljs-params">app</span>) =&gt;</span> &#123;
  <span class="hljs-keyword">const</span> MODEL = app.API.models.libro
  <span class="hljs-keyword">const</span> DAO   = <span class="hljs-keyword">new</span> Dao(MODEL)

  <span class="hljs-comment">// DAO.findOne         = (t, where, not, include = [], paranoid = true) =&gt; &#123;&#125;   : Promise</span>
  <span class="hljs-comment">// DAO.findAll         = (t, where, not, include = [], paranoid = true) =&gt; &#123;&#125;   : Promise</span>
  <span class="hljs-comment">// DAO.count           = (t, where, not, include = [], paranoid = true) =&gt; &#123;&#125;   : Promise</span>
  <span class="hljs-comment">// DAO.findAndCountAll = (t, where, not, include = [], paranoid = true) =&gt; &#123;&#125;   : Promise</span>
  <span class="hljs-comment">// DAO.create          = (t, data)                                      =&gt; &#123;&#125;   : Promise</span>
  <span class="hljs-comment">// DAO.update          = (t, data, where, not, paranoid = true)         =&gt; &#123;&#125;   : Promise</span>
  <span class="hljs-comment">// DAO.destroy         = (t, data, where, not, paranoid = true)         =&gt; &#123;&#125;   : Promise</span>
  <span class="hljs-comment">// DAO.restore         = (t, data, where, not)                          =&gt; &#123;&#125;   : Promise</span>

  <span class="hljs-keyword">return</span> DAO
&#125;
</code></pre>
<h3 id="carpeta-srcmodulesapimodels"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="carpeta-srcmodulesapimodels" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Carpeta <code>src/modules/API/models</code></h3>
<p>Contiene los modelos que representan a las tabla de la base de datos. Un modelo siempre estará asociado a un esquema de base de datos.</p>
<p>El framework utiliza <code>Sequelize</code> para crear los modelos y realizar consultas a la base de datos.</p>
<h3 id="archivo-srcmodulesapimodelslibromodeljs"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="archivo-srcmodulesapimodelslibromodeljs" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Archivo <code>src/modules/API/models/libro.model.js</code></h3>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> &#123; Field &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">'insac'</span>)

<span class="hljs-built_in">module</span>.exports = <span class="hljs-function">(<span class="hljs-params">sequelize, Sequelize</span>) =&gt;</span> &#123;
  <span class="hljs-keyword">const</span> MODEL = sequelize.define(<span class="hljs-string">'libro'</span>, &#123;
    <span class="hljs-attr">id_libro</span>: Field.ID(&#123;
      <span class="hljs-attr">comment</span>: <span class="hljs-string">'ID libro.'</span>
    &#125;),
    <span class="hljs-attr">titulo</span>: Field.STRING(&#123;
      <span class="hljs-attr">comment</span> : <span class="hljs-string">'Título del libro.'</span>,
      <span class="hljs-attr">example</span> : <span class="hljs-string">'El gato negro'</span>
    &#125;),
    <span class="hljs-attr">nro_paginas</span>: Field.INTEGER(&#123;
      <span class="hljs-attr">comment</span> : <span class="hljs-string">'Número de páginas.'</span>,
      <span class="hljs-attr">example</span> : <span class="hljs-string">'123'</span>
    &#125;),
    <span class="hljs-attr">precio</span>: Field.FLOAT(&#123;
      <span class="hljs-attr">comment</span>: <span class="hljs-string">'Precio del libro.'</span>
    &#125;),
    <span class="hljs-attr">_estado</span>               : Field.STATUS,
    <span class="hljs-attr">_usuario_creacion</span>     : Field.CREATED_USER,
    <span class="hljs-attr">_usuario_modificacion</span> : Field.UPDATED_USER,
    <span class="hljs-attr">_usuario_eliminacion</span>  : Field.DELETED_USER,
    <span class="hljs-attr">_fecha_creacion</span>       : Field.CREATED_AT,
    <span class="hljs-attr">_fecha_modificacion</span>   : Field.UPDATED_AT,
    <span class="hljs-attr">_fecha_eliminacion</span>    : Field.DELETED_AT
  &#125;, &#123;
    <span class="hljs-attr">schema</span>: <span class="hljs-string">'api'</span>
  &#125;)

  MODEL.associate = <span class="hljs-function">(<span class="hljs-params">app</span>) =&gt;</span> &#123;
    <span class="hljs-comment">// TODO</span>
  &#125;

  <span class="hljs-keyword">return</span> MODEL
&#125;
</code></pre>
<h3 id="carpeta-srcmodulesapiresources"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="carpeta-srcmodulesapiresources" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Carpeta <code>src/modules/API/resources</code></h3>
<p>Aqui se definen los recursos que ofrece el módulo. Un recurso esta conformado por varias rutas. Por ejemplo, para gestionar los <code>libros</code> de una biblioteca, el recurso contaría con las siguientes rutas:</p>
<pre><code class="hljs language-txt">[GET]    /api/v1/libros ..................... get
[GET]    /api/v1/libros/:id_libro ........... getId
[POST]   /api/v1/libros ..................... create
[PUT]    /api/v1/libros/:id_libro ........... update
[DELETE] /api/v1/libros/:id_libro ........... destroy
[PUT]    /api/v1/libros/:id_libro/restore ... restore
</code></pre>
<h3 id="flujo-de-una-peticion"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="flujo-de-una-peticion" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Flujo de una petición</h3>
<p>Una ruta <code>ROUTE</code> recibe los datos de entrada <code>INPUT</code>, verifica que la información proporcionada sea válida y suficiente para continuar con el proceso <code>MIDDLEWARE</code>, realiza las tareas correspondientes <code>CONTROLLER</code> y finalmente devuelve el resultado <code>OUTPUT</code>.</p>
<pre><code class="hljs language-txt">┌───────────┐     ┌───────────┐     ┌────────────┐     ┌────────────┐     ┌────────────┐
│   ROUTE   │ --&gt; │   INPUT   │ --&gt; │ MIDDLEWARE │ --&gt; │ CONTROLLER │ --&gt; │   OUTPUT   │
└───────────┘     └───────────┘     └────────────┘     └────────────┘     └────────────┘
</code></pre>
<p>Todo este flujo se describe en varios ficheros cuya extensión define el estado en el que se encuentra. Por ejemplo, para el recurso <code>libros</code> se tendrían los siguientes ficheros:</p>
<pre><code class="hljs language-txt">libros
   ├─ libro.controller.js
   ├─ libro.input.js
   ├─ libro.middleware.js
   ├─ libro.output.js
   └─ libro.route.js
</code></pre>
<p>Cada fichero contiene un objeto cuyas propiedades son las claves <code>KEY</code> asociadas a una ruta.</p>
<h3 id="archivo-srcmodulesapiresourcesapiv1libroslibroroutejs"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="archivo-srcmodulesapiresourcesapiv1libroslibroroutejs" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Archivo <code>src/modules/API/resources/api/v1/libros/libro.route.js</code></h3>
<pre><code class="hljs language-js"><span class="hljs-built_in">module</span>.exports = <span class="hljs-function">(<span class="hljs-params">app</span>) =&gt;</span> &#123;
  <span class="hljs-keyword">const</span> ROUTE = &#123;&#125;

  ROUTE.get = &#123;
    <span class="hljs-attr">path</span>        : <span class="hljs-string">'/api/v1/libros'</span>,
    <span class="hljs-attr">method</span>      : <span class="hljs-string">'get'</span>,
    <span class="hljs-attr">description</span> : <span class="hljs-string">'Devuelve una lista de registros.'</span>
  &#125;

  ROUTE.getId = &#123;
    <span class="hljs-attr">path</span>        : <span class="hljs-string">'/api/v1/libros/:id_libro'</span>,
    <span class="hljs-attr">method</span>      : <span class="hljs-string">'get'</span>,
    <span class="hljs-attr">description</span> : <span class="hljs-string">'Devuelve un registro por ID.'</span>
  &#125;

  ROUTE.create = &#123;
    <span class="hljs-attr">path</span>        : <span class="hljs-string">'/api/v1/libros'</span>,
    <span class="hljs-attr">method</span>      : <span class="hljs-string">'post'</span>,
    <span class="hljs-attr">description</span> : <span class="hljs-string">'Crea un nuevo registro.'</span>
  &#125;

  ROUTE.update = &#123;
    <span class="hljs-attr">path</span>        : <span class="hljs-string">'/api/v1/libros/:id_libro'</span>,
    <span class="hljs-attr">method</span>      : <span class="hljs-string">'put'</span>,
    <span class="hljs-attr">description</span> : <span class="hljs-string">'Modifica un registro por ID.'</span>
  &#125;

  ROUTE.destroy = &#123;
    <span class="hljs-attr">path</span>        : <span class="hljs-string">'/api/v1/libros/:id_libro'</span>,
    <span class="hljs-attr">method</span>      : <span class="hljs-string">'delete'</span>,
    <span class="hljs-attr">description</span> : <span class="hljs-string">'Elimina un registro por ID.'</span>
  &#125;

  ROUTE.restore = &#123;
    <span class="hljs-attr">path</span>        : <span class="hljs-string">'/api/v1/libros/:id_libro/restore'</span>,
    <span class="hljs-attr">method</span>      : <span class="hljs-string">'put'</span>,
    <span class="hljs-attr">description</span> : <span class="hljs-string">'Restaura un usuario eliminado por ID.'</span>
  &#125;

  <span class="hljs-comment">// &lt;!-- [CLI] - [COMPONENT] --!&gt; //</span>

  <span class="hljs-keyword">return</span> ROUTE
&#125;
</code></pre>
<h3 id="carpeta-srcmodulesapiseeders"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="carpeta-srcmodulesapiseeders" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Carpeta <code>src/modules/API/seeders</code></h3>
<p>Contiene ficheros que describen los registros que se insertarán en la base de datos cuando se instale la aplicación.</p>
<p>Los ficheros que se encuentren en esta carpeta, serán instalados únicamente en entornos de desarrollo <code>development</code>.</p>
<h3 id="archivo-srcmodulesapiseederslibroseedjs"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="archivo-srcmodulesapiseederslibroseedjs" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Archivo <code>src/modules/API/seeders/libro.seed.js</code></h3>
<pre><code class="hljs language-js"><span class="hljs-built_in">module</span>.exports = <span class="hljs-function">(<span class="hljs-params">app</span>) =&gt;</span> &#123;
  <span class="hljs-keyword">const</span> DATA = [
    &#123;
      <span class="hljs-attr">id_libro</span>    : <span class="hljs-number">1</span>,
      <span class="hljs-attr">titulo</span>      : <span class="hljs-string">'El gato negro'</span>,
      <span class="hljs-attr">nro_paginas</span> : <span class="hljs-string">'123'</span>,
      <span class="hljs-attr">precio</span>      : <span class="hljs-number">12.99</span>
    &#125;
  ]

  DATA.forEach(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> &#123;
    data._usuario_creacion = <span class="hljs-number">1</span>
  &#125;)

  <span class="hljs-keyword">return</span> DATA
&#125;
</code></pre>
<h3 id="carpeta-srcmodulesapiseedersprod"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="carpeta-srcmodulesapiseedersprod" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Carpeta <code>src/modules/API/seeders/prod</code></h3>
<p>Los ficheros que se encuentren en esta carpeta, serán instalados únicamente en entornos de producción <code>production</code>.</p>
<h3 id="modulo-de-tipo-sendgrid-mail"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="modulo-de-tipo-sendgrid-mail" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> - Módulo de tipo <code>SENDGRID_MAIL</code></h3>
<p>Este módulo, se utiliza para enviar mensajes por correo electrónico con el servidor SMTP que ofrece SendGrid. Se requiere una cuenta registrada en <a href="https://sendgrid.com">https://sendgrid.com</a> para obtener el <code>APIKEY</code> que se utiliza para enviar los mensajes.</p>
<p>La estructura del módulo, es la siguiente:</p>
<pre><code class="hljs language-txt">├─ src
      ├─ modules
            └─ EMAIL
                  ├─ emails
                  │     └─ welcome
                  |           ├─ welcome.html
                  │           └─ welcome.mail.js
                  └─ email.module.js
</code></pre>
<h3 id="archivo-srcmodulesemailemailmodulejs"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="archivo-srcmodulesemailemailmodulejs" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Archivo <code>src/modules/EMAIL/email.module.js</code></h3>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> &#123; SendGridMailModule &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">'insac'</span>)

<span class="hljs-built_in">module</span>.exports = <span class="hljs-function">(<span class="hljs-params">app</span>) =&gt;</span> &#123;
  <span class="hljs-keyword">const</span> CONFIG = app.config.EMAIL

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> SendGridMailModule(CONFIG)
&#125;
</code></pre>
<p>También se requiere la siguiente configuración en el archivo <code>app.config.js</code>.</p>
<pre><code class="hljs language-js">exports.EMAIL = &#123;
  <span class="hljs-attr">sendGridApiKey</span> : <span class="hljs-string">'&lt;SENDGRID_APIKEY&gt;'</span>,
  <span class="hljs-attr">systemName</span>     : <span class="hljs-string">'Nombre del sistema'</span>,
  <span class="hljs-attr">systemEmail</span>    : <span class="hljs-string">'system@example.com'</span>
&#125;
</code></pre>
<h3 id="carpeta-srcmodulesutilservices-2"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="carpeta-srcmodulesutilservices-2" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Carpeta <code>src/modules/UTIL/services</code></h3>
<p>Contiene todas las tareas que puede realizar el módulo y pueden ser ejecutadas desde otros módulos.</p>
<h3 id="archivo-srcmodulesutilservicesutilservicejs-2"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="archivo-srcmodulesutilservicesutilservicejs-2" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Archivo <code>src/modules/UTIL/services/util.service.js</code></h3>
<pre><code class="hljs language-js"><span class="hljs-built_in">module</span>.exports = <span class="hljs-function">(<span class="hljs-params">app</span>) =&gt;</span> &#123;
  <span class="hljs-keyword">const</span> UTIL = &#123;&#125;

  UTIL.log = <span class="hljs-function">(<span class="hljs-params">message</span>) =&gt;</span> &#123;
    <span class="hljs-built_in">console</span>.log(message)
  &#125;

  <span class="hljs-keyword">return</span> UTIL
&#125;
</code></pre>
<h3 id="carpeta-test"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="carpeta-test" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Carpeta <code>test</code></h3>
<p>Contiene todas las pruebas necesarias que garantizan el correcto funcionamiento del sistema.</p>
<h3 id="carpeta-testintegration"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="carpeta-testintegration" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Carpeta <code>test/integration</code></h3>
<p>Contiene todas las pruebas de integración que se requieran.</p>
<h3 id="carpeta-testunit"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="carpeta-testunit" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Carpeta <code>test/unit</code></h3>
<p>Contiene todas las pruebas unitarias que se requieran.</p>
<h3 id="archivo-testhelpersjs"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="archivo-testhelpersjs" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Archivo <code>test/helpers.js</code></h3>
<p>Contiene los datos de configuración del servidor y de la base de datos para realizar las pruebas</p>
<h3 id="archivo-testmochaopts"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="archivo-testmochaopts" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Archivo <code>test/mocha.opts</code></h3>
<p>Contiene los parametros de configuración de <code>mocha</code>.</p>
<h3 id="archivo-eslintrcjs"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="archivo-eslintrcjs" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Archivo <code>.eslintrc.js</code></h3>
<p>Contiene las reglas de validación de código.</p>
<h3 id="archivo-gitignore"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="archivo-gitignore" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Archivo <code>.gitignore</code></h3>
<p>Contiene todos los archivos que serán ignorados por git al momento de subir los cambios al repositorio.</p>
<h3 id="archivo-insacjs"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="archivo-insacjs" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Archivo <code>.insac.js</code></h3>
<p>Contiene información que utiliza el framework para organizar el proyecto.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>)

exports.PATH = &#123;
  <span class="hljs-attr">modules</span> : path.resolve(__dirname, <span class="hljs-string">'src/modules'</span>),
  <span class="hljs-attr">config</span>  : path.resolve(__dirname, <span class="hljs-string">'src/config'</span>),
  <span class="hljs-attr">hooks</span>   : path.resolve(__dirname, <span class="hljs-string">'src/hooks'</span>)
&#125;
</code></pre>
<h3 id="archivo-ecosystemjson"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="archivo-ecosystemjson" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Archivo <code>ecosystem.json</code></h3>
<p>Este archivo es el que utiliza <code>PM2</code> para ejecutar aplicaciónes en producción.</p>
<p>Contiene los parametros de configuración de la aplicación.</p>
<p>Al igual que los archivos de configuración mencionados al inicio, por seguridad este archivos nunca se guardará en el repositorio, en su lugar se subirá el archivo <code>example.ecosystem.json</code>.</p>
<h3 id="archivo-indexjs"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="archivo-indexjs" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Archivo <code>index.js</code></h3>
<p>Es el punto de entrada a la aplicación.</p>
<h3 id="archivo-packagejson"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="archivo-packagejson" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Archivo <code>package.json</code></h3>
<p>Archivo utilizado por el gestor de paquetes de node <code>NPM</code>. Contiene información básica de la aplicación y todas las dependencias que esta requiere. También incluye todos los comandos de instalación y ejecución de la aplicación.</p>
<pre><code class="hljs language-json">&#123;
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"sistema"</span>,
  <span class="hljs-attr">"version"</span>: <span class="hljs-string">"1.0.0"</span>,
  <span class="hljs-attr">"main"</span>: <span class="hljs-string">"index.js"</span>,
  <span class="hljs-attr">"scripts"</span>: &#123;
    <span class="hljs-attr">"start"</span>: <span class="hljs-string">"node index.js"</span>,
    <span class="hljs-attr">"start-response"</span>: <span class="hljs-string">"RESPONSE_LOG=true node index.js"</span>,
    <span class="hljs-attr">"start-sql"</span>: <span class="hljs-string">"SQL_LOG=true node index.js"</span>,
    <span class="hljs-attr">"start-prod"</span>: <span class="hljs-string">"NODE_ENV=production APIDOC=false node index.js"</span>,
    <span class="hljs-attr">"setup"</span>: <span class="hljs-string">"SETUP=true node index.js"</span>,
    <span class="hljs-attr">"setup-prod"</span>: <span class="hljs-string">"NODE_ENV=production SETUP=true node index.js"</span>,
    <span class="hljs-attr">"lint"</span>: <span class="hljs-string">"\"node_modules/.bin/eslint\" index.js src/"</span>,
    <span class="hljs-attr">"test"</span>: <span class="hljs-string">"npm run test-unit &amp;&amp; npm run test-integration"</span>,
    <span class="hljs-attr">"test-unit"</span>: <span class="hljs-string">"NODE_ENV=test \"node_modules/.bin/mocha\" --recursive test/unit"</span>,
    <span class="hljs-attr">"test-integration"</span>: <span class="hljs-string">"NODE_ENV=test \"node_modules/.bin/mocha\" --recursive test/integration"</span>
  &#125;,
  <span class="hljs-attr">"dependencies"</span>: &#123;
    <span class="hljs-attr">"insac"</span>: <span class="hljs-string">"^2.1.0"</span>
  &#125;,
  <span class="hljs-attr">"devDependencies"</span>: &#123;
    <span class="hljs-attr">"chai"</span>: <span class="hljs-string">"^4.1.2"</span>,
    <span class="hljs-attr">"eslint"</span>: <span class="hljs-string">"^4.19.1"</span>,
    <span class="hljs-attr">"eslint-config-standard"</span>: <span class="hljs-string">"^11.0.0"</span>,
    <span class="hljs-attr">"eslint-plugin-import"</span>: <span class="hljs-string">"^2.12.0"</span>,
    <span class="hljs-attr">"eslint-plugin-node"</span>: <span class="hljs-string">"^6.0.1"</span>,
    <span class="hljs-attr">"eslint-plugin-promise"</span>: <span class="hljs-string">"^3.7.0"</span>,
    <span class="hljs-attr">"eslint-plugin-standard"</span>: <span class="hljs-string">"^3.0.1"</span>,
    <span class="hljs-attr">"mocha"</span>: <span class="hljs-string">"^5.2.0"</span>
  &#125;,
  <span class="hljs-attr">"engines"</span>: &#123;
    <span class="hljs-attr">"node"</span>: <span class="hljs-string">"&gt;=9.5.0"</span>
  &#125;
&#125;
</code></pre>
<p>Para ejecutar los scripts en Sistemas Operativos Windows, reemplazar la propiedad <code>scripts</code> con la siguiente información:</p>
<pre><code class="hljs language-json">&#123;
  <span class="hljs-attr">"scripts"</span>: &#123;
    <span class="hljs-attr">"start"</span>: <span class="hljs-string">"node index.js"</span>,
    <span class="hljs-attr">"start-response"</span>: <span class="hljs-string">"set RESPONSE_LOG=true&amp;&amp;node index.js"</span>,
    <span class="hljs-attr">"start-sql"</span>: <span class="hljs-string">"set SQL_LOG=true&amp;&amp;node index.js"</span>,
    <span class="hljs-attr">"start-prod"</span>: <span class="hljs-string">"set NODE_ENV=production&amp;&amp;set APIDOC=false&amp;&amp;node index.js"</span>,
    <span class="hljs-attr">"setup"</span>: <span class="hljs-string">"set SETUP=true&amp;&amp;node index.js"</span>,
    <span class="hljs-attr">"setup-prod"</span>: <span class="hljs-string">"set NODE_ENV=production&amp;&amp;set SETUP=true&amp;&amp;node index.js"</span>,
    <span class="hljs-attr">"lint"</span>: <span class="hljs-string">"\"node_modules/.bin/eslint\" index.js src"</span>,
    <span class="hljs-attr">"test"</span>: <span class="hljs-string">"npm run test-unit &amp;&amp; npm run test-integration"</span>,
    <span class="hljs-attr">"test-unit"</span>: <span class="hljs-string">"set NODE_ENV=test&amp;&amp;\"node_modules/.bin/mocha\" --recursive test/unit"</span>,
    <span class="hljs-attr">"test-integration"</span>: <span class="hljs-string">"set NODE_ENV=test&amp;&amp;\"node_modules/.bin/mocha\" --recursive test/integration"</span>
  &#125;
&#125;
</code></pre>
<h3 id="archivo-readmemd"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="archivo-readmemd" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Archivo <code>README.md</code></h3>
<p>Contiene información acerca de la aplicación, requerimientos mínimos, guía de instalación, referencias, etc.</p>
<h3 id="archivo-yarnlock"><a class="anchor" routerLink="/tutoriales/estructura-de-proyecto" fragment="archivo-yarnlock" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Archivo <code>yarn.lock</code></h3>
<p>Archivo utilizado por el manejador de paquetes <code>yarn</code> para gestionar las dependencias del proyecto.</p>

</article>